async function predictWebcam() {
  canvas.width = video.videoWidth;
  canvas.height = video.videoHeight;

  if (handLandmarker && video.currentTime !== lastVideoTime) {
    lastVideoTime = video.currentTime;

    // Detectar los landmarks de las manos en el fotograma actual
    const results = await handLandmarker.detectForVideo(video, performance.now());

    // Limpiar el canvas antes de cada frame
    canvasCtx.clearRect(0, 0, canvas.width, canvas.height);

    if (results.landmarks) {
      // Iterar sobre los landmarks detectados
      for (const landmarks of results.landmarks) {
        // Dibujar las conexiones y los puntos de los landmarks
        drawConnectors(canvasCtx, landmarks, HAND_CONNECTIONS, { color: "#00FF00", lineWidth: 5 });
        drawLandmarks(canvasCtx, landmarks, { color: "#FF0000", lineWidth: 2 });

        // Resaltar la punta del dedo índice (landmark 8)
        const indexFingerTip = landmarks[8]; // Landmark número 8 es la punta del dedo índice
        const { x, y, z } = indexFingerTip;

        // Convertir las coordenadas normalizadas a coordenadas del canvas
        const canvasX = x * canvas.width;
        const canvasY = y * canvas.height;

        // Dibujar el landmark del dedo índice en color amarillo
        canvasCtx.fillStyle = "#FFFF00"; // Color amarillo
        canvasCtx.beginPath();
        canvasCtx.arc(canvasX, canvasY, 5, 0, 2 * Math.PI); // Dibuja un círculo pequeño
        canvasCtx.fill();

        // Opcionalmente, mostrar las coordenadas del landmark
        canvasCtx.fillStyle = "#FFFF00"; // Color amarillo
        canvasCtx.font = "12px Arial";
        canvasCtx.fillText(`(${canvasX.toFixed(1)}, ${canvasY.toFixed(1)}, ${z.toFixed(2)})`, canvasX + 10, canvasY - 10);
      }
    }
  }

  // Llamar nuevamente a la función para el siguiente frame
  requestAnimationFrame(predictWebcam);
}
